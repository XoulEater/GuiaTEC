import{j as e}from"./jsx-runtime.DSYUAlOe.js";import{r as o}from"./index.DdRMN4IK.js";import{T as u,b as T}from"./themes.6KSRH3G2.js";import{C,w as L,t as z}from"./data.B7MeXeMm.js";import{g as S,r as A,s as f}from"./teamService.Dd6p7dRK.js";import"./index.9S5AIfQV.js";const D=()=>{const i=localStorage.getItem("user"),n=JSON.parse(i),l=n.userType==="assistant"&&n.campus==="CA",c=n.userType==="assistant",[m,d]=o.useState(null),[t,g]=o.useState([]),[j,p]=o.useState(!1),[h,w]=o.useState(null),[v,b]=o.useState(!0);function x(){const s=Object.values(C);console.log(t.map(a=>a.campus)),b(s.every(a=>t.some(r=>r.campus===a)))}const N=async()=>{const a=(await S()).map(r=>(r.isLeader&&(console.log("leader",r),d(r.id)),{...r,photo:r.photo||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png"}));g(a)};o.useEffect(()=>{N()},[]),o.useEffect(()=>{x()},[t]);function k(s){w(s),p(!0)}function M(){h&&(t.splice(t.indexOf(h),1),A(h.id)),x(),p(!1)}async function y(s){await t.forEach(a=>a===s?f(a.id,!0):f(a.id,!1)),d(s.id)}return e.jsxs("section",{className:"w-[90%] overflow-hidden rounded-xl drop-shadow-md shadow-inner border border-black/10 shadow-white/10",children:[e.jsxs("header",{className:"grid items-center w-full h-16 grid-cols-6 px-2 bg-zinc-200",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Codigo"}),e.jsx("span",{className:"text-lg font-semibold",children:"Imagen"}),e.jsx("span",{className:"col-span-2 text-lg font-semibold",children:"Nombre"}),e.jsx("span",{className:"col-span-2 text-lg font-semibold",children:"Acciones"})]}),t.map((s,a)=>{const r=a%2===0?"bg-white":"bg-zinc-200";return e.jsxs("div",{className:`grid grid-cols-6 h-16 w-full items-center ${r} px-2`,children:[e.jsx("span",{children:s.id}),e.jsx("img",{className:"object-cover object-center h-12 rounded-full aspect-square",src:s.photo,alt:s.name}),e.jsx("span",{className:"col-span-2 ",children:s.name}),e.jsxs("div",{className:"flex items-center col-span-2 gap-4",children:[e.jsx("a",{href:`teacher/${s.id}`,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-300 ease-out  text-primary-light hover:brightness-150 hover:scale-110",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M19.875 6.27c.7 .398 1.13 1.143 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z"}),e.jsx("path",{d:"M12 9h.01"}),e.jsx("path",{d:"M11 12h1v4h1"})]})}),c&&e.jsx("button",{onClick:()=>k(s),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"text-red-600 transition-all duration-300 ease-out  hover:brightness-150 hover:scale-110",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M13 12v.01"}),e.jsx("path",{d:"M3 21h18"}),e.jsx("path",{d:"M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5"}),e.jsx("path",{d:"M14 7h7m-3 -3l3 3l-3 3"})]})}),l&&e.jsx("button",{onClick:()=>y(s),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${s.id===m?"text-amber-500 hover:brightness-125":"text-zinc-400 hover:brightness-90"} hover:scale-110 transition-all  duration-300 ease-out`,width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z"})]})})]})]},a)}),!v&&e.jsx("div",{className:"flex items-center justify-center w-full h-12 gap-2 text-white transition duration-300 ease-in-out bg-red-800 rounded-b-md hover:brightness-125 group",children:e.jsx("span",{className:"transition-transform duration-300 ease-in-out group-hover:scale-110",children:"Equipo incompleto"})}),j&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black bg-opacity-30 flex justify-center items-center z-50",children:e.jsxs("div",{className:"flex flex-col gap-5 p-5 bg-white rounded-lg",children:[e.jsx("h2",{className:"text-xl font-medium ",children:`Está seguro de eliminar a ${h?.name}?`}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("button",{onClick:M,className:"flex items-center justify-center w-32 h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light group",children:e.jsx("span",{className:"transition-transform duration-300 ease-in-out group-hover:scale-110",children:"Si"})}),e.jsx("button",{onClick:()=>p(!1),className:"flex items-center justify-center w-32 h-12 gap-2 text-white transition duration-300 ease-in-out bg-red-800 rounded-md hover:brightness-125 group",children:e.jsx("span",{className:"transition-transform duration-300 ease-in-out group-hover:scale-110",children:"No"})})]})]})})]})},E=()=>e.jsx("div",{className:"w-[90%] overflow-hidden rounded-xl drop-shadow-md shadow-inner border border-black/10 shadow-white/10",children:L.map((i,n)=>{const l=n%2!=0?"bg-white":"bg-zinc-200";return e.jsx("div",{className:`grid grid-cols-2 h-16 w-full items-center ${l} px-2`,children:e.jsxs("a",{className:"flex flex-col",href:`/workplan/${i.id}`,children:[e.jsx("span",{className:"text-xl font-bold ",children:i.name}),e.jsx("span",{className:"",children:i.description})]})},n)})}),I=()=>e.jsxs(u,{theme:T,"aria-label":"Tabs with underline",style:"underline",className:" w-full place-content-center  gap-x-[30%] ",children:[e.jsx(u.Item,{active:!0,title:"Profesores",children:e.jsx("div",{className:"grid place-items-center",children:e.jsx(D,{})})}),e.jsx(u.Item,{title:"Planes",children:e.jsx("div",{className:"grid place-items-center",children:e.jsx(E,{})})})]}),P=()=>{const i=localStorage.getItem("user"),n=JSON.parse(i),l=n.userType==="assistant";let c=!1;n.userType==="teacher"&&(c=z.find(t=>t.isLeader&&t.email===n.email)!==void 0);function m(){window.location.href="/teachers"}function d(){const t={id:"1",name:"Nuevo plan",description:"Descripcion del plan",activities:[]};window.location.href="/workplan/"+t.id}return e.jsxs("div",{children:[e.jsxs("article",{className:"flex justify-between mx-20 my-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Equipo"}),e.jsx("h2",{className:"text-xl",children:"Informacion del equipo"})]}),e.jsxs("aside",{className:"flex gap-3",children:[l&&e.jsxs("button",{id:"add-member",onClick:m,className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user-plus",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"}),e.jsx("path",{d:"M16 19h6"}),e.jsx("path",{d:"M19 16v6"}),e.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4"})]}),"Añadir"]}),c&&e.jsxs("button",{onClick:d,className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-settings-2",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M6 9l6 0"}),e.jsx("path",{d:"M4 5l4 0"}),e.jsx("path",{d:"M6 5v11a1 1 0 0 0 1 1h5"}),e.jsx("path",{d:"M12 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"}),e.jsx("path",{d:"M12 15m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"})]}),"Nuevo Plan"]})]})]}),e.jsx("main",{className:"grid place-items-center",children:e.jsx(I,{})})]})};export{P as default};
