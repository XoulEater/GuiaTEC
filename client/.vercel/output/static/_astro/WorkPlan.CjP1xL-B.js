import{j as e}from"./jsx-runtime.DSYUAlOe.js";import{r as p}from"./index.DdRMN4IK.js";import{t as b,A as h}from"./data.B7MeXeMm.js";function M(o,c,r,i,l){function x(a){i(a),l(a.status)}return e.jsx("section",{className:" my-6 w-5/12 h-[560px]  rounded-lg overflow-y-scroll no-scrollbar shadow-md ",children:e.jsx("div",{className:"px-6 py-2  bg-primary-dark",children:Object.keys(o).map(a=>e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex justify-between py-2 text-xl font-bold text-white border-b-2 cursor-pointer pointer-events-auto",onClick:()=>c(parseInt(a)),children:["Semana ",a,e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:r.includes(parseInt(a))?e.jsxs(e.Fragment,{children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M6 15l6 -6l6 6"})]}):e.jsxs(e.Fragment,{children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M6 9l6 6l6 -6"})]})})]}),r.includes(parseInt(a))&&e.jsx("ul",{className:"",children:o[parseInt(a)].map(n=>e.jsxs("li",{className:"p-2 my-2 rounded-lg bg-white relative ring-inset ring-0 cursor-pointer hover:ring-2 hover:ring-primary-light group transition duration-300 ease-in-out",onClick:()=>x(n),children:[e.jsxs("header",{className:"flex justify-between ",children:[e.jsx("h4",{className:"text-lg font-semibold",children:n.name}),e.jsx("span",{className:`text-2xl  absolute right-2 top-0 font-bold pointer-events-none ${n.status==="Realizada"?"text-green-500":n.status==="Publicada"?"text-yellow-400":n.status==="Planeada"?"text-purple-500":n.status==="Cancelada"?"text-red-500":"text-blue-500"}`,children:"●"})]}),e.jsxs("footer",{className:"flex justify-between",children:[e.jsx("p",{children:n.date.toLocaleDateString("en-GB")}),e.jsx("p",{children:n.status})]})]},n.name))})]},a))})})}const C=({workplanDTO:o})=>{const c=localStorage.getItem("user"),r=JSON.parse(c),i=o;let l=!1;const x=i?.activities,a={};x?.forEach(t=>{a[t.week]?a[t.week].push(t):a[t.week]=[t]});const[n,j]=p.useState([]),[s,m]=p.useState(null),[k,u]=p.useState(null);r.userType==="teacher"&&(l=b.find(t=>t.isLeader&&t.email===r.email)!==void 0);function g(t){n.includes(t)?j(n.filter(w=>w!==t)):j([...n,t])}function d(t){s&&(u(t),s.status=t)}function f(){window.location.href="/activity/edit-"+s?.id}function v(){window.location.href="/new-activity"}return e.jsxs("article",{children:[e.jsxs("header",{className:"flex justify-between mx-20 my-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:i?.name}),e.jsx("p",{className:"text-lg",children:i?.description})]}),e.jsx("aside",{children:l&&e.jsxs("button",{onClick:v,className:"flex items-center justify-center h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark w-52 hover:bg-primary-light group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar-plus",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5"}),e.jsx("path",{d:"M16 3v4"}),e.jsx("path",{d:"M8 3v4"}),e.jsx("path",{d:"M4 11h16"}),e.jsx("path",{d:"M16 19h6"}),e.jsx("path",{d:"M19 16v6"})]}),"Nueva Actividad"]})})]}),e.jsxs("div",{className:"flex gap-10 mx-20",children:[M(a,g,n,m,u),e.jsx("aside",{className:"my-6 w-8/12 h-[560px] rounded-lg overflow-y-scroll no-scrollbar shadow-md ",children:s&&e.jsxs("div",{className:"flex flex-col h-full gap-2 p-4 bg-white rounded-lg",children:[e.jsxs("header",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.name}),e.jsx("span",{className:"px-2 py-1 text-lg border-2 rounded-full border-primary-light text-primary-light",children:s.type})]}),e.jsx("p",{className:"-mt-2 text-xl text-gray-600",children:s.date.toDateString()})]}),e.jsxs("section",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold ",children:"Responsables:"}),e.jsx("ul",{children:s.responsibles.map(t=>e.jsxs("li",{className:"text-lg ",children:["- ",t.name]},t.name))})]}),e.jsxs("button",{className:"flex gap-4 px-3 my-2 text-lg text-gray-400 border-2 rounded-md shadow-sm place-items-center border-black/10",children:["Archivo ",e.jsx("br",{})," adjunto",e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"",width:"46",height:"46",viewBox:"0 0 24 24",strokeWidth:"1.2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),e.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),e.jsx("path",{d:"M12 17v-6"}),e.jsx("path",{d:"M9.5 14.5l2.5 2.5l2.5 -2.5"})]})]})]}),e.jsxs("section",{children:[e.jsx("p",{className:"text-xl font-bold",children:"Descripción:"}),e.jsx("p",{className:"text-lg ",children:s.modality}),s.modality==="Virtual"&&e.jsx("a",{href:s.link,className:"text-lg text-primary-light hover:underline",children:"Enlace"})]}),l&&e.jsxs("footer",{className:"flex justify-center gap-3",children:[s.status==="Planeada"&&e.jsxs("button",{onClick:()=>d(h.PUBLICADA),className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5"}),e.jsx("path",{d:"M16 3v4"}),e.jsx("path",{d:"M8 3v4"}),e.jsx("path",{d:"M4 11h16"}),e.jsx("path",{d:"M19 22v-6"}),e.jsx("path",{d:"M22 19l-3 -3l-3 3"})]}),"Publicar"]}),s.status==="Publicada"&&e.jsxs("button",{onClick:()=>d(h.NOTIFICADA),className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M15 21h-9a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5"}),e.jsx("path",{d:"M16 3v4"}),e.jsx("path",{d:"M8 3v4"}),e.jsx("path",{d:"M4 11h16"}),e.jsx("path",{d:"M11 15h1"}),e.jsx("path",{d:"M12 15v3"}),e.jsx("path",{d:"M19 16v3"}),e.jsx("path",{d:"M19 22v.01"})]}),"Notificar"]}),s.status==="Notificada"&&e.jsxs("button",{onClick:()=>d(h.REALIZADA),className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M11.5 21h-5.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),e.jsx("path",{d:"M16 3v4"}),e.jsx("path",{d:"M8 3v4"}),e.jsx("path",{d:"M4 11h16"}),e.jsx("path",{d:"M15 19l2 2l4 -4"})]}),"Realizar"]}),s.status==="Realizada"&&e.jsx("button",{disabled:!0,className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out bg-gray-600 rounded-md group",children:"Realizada"}),s.status!=="Cancelada"&&e.jsxs("button",{onClick:f,className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 21h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5"}),e.jsx("path",{d:"M16 3v4"}),e.jsx("path",{d:"M8 3v4"}),e.jsx("path",{d:"M4 11h16"}),e.jsx("path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),e.jsx("path",{d:"M19.001 15.5v1.5"}),e.jsx("path",{d:"M19.001 21v1.5"}),e.jsx("path",{d:"M22.032 17.25l-1.299 .75"}),e.jsx("path",{d:"M17.27 20l-1.3 .75"}),e.jsx("path",{d:"M15.97 17.25l1.3 .75"}),e.jsx("path",{d:"M20.733 20l1.3 .75"})]}),"Editar"]}),s.status!=="Cancelada"&&e.jsxs("button",{onClick:()=>d(h.CANCELADA),className:"flex items-center justify-center w-40 h-12 gap-2 text-white transition duration-300 ease-in-out bg-red-800 rounded-md hover:brightness-125 group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar-x",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M13 21h-7a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6.5"}),e.jsx("path",{d:"M16 3v4"}),e.jsx("path",{d:"M8 3v4"}),e.jsx("path",{d:"M4 11h16"}),e.jsx("path",{d:"M22 22l-5 -5"}),e.jsx("path",{d:"M17 22l5 -5"})]}),"Cancelar"]})]})]})})]})]})};export{C as default};
