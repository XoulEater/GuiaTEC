import{j as e}from"./jsx-runtime.DSYUAlOe.js";import{R as p,r as A}from"./index.DdRMN4IK.js";import{A as v,M as m,b as D,t as f}from"./data.B7MeXeMm.js";const W=({activity:a})=>{const[g,x]=p.useState(!1),[n,r]=p.useState([]);A.useEffect(()=>{if(a){const t=new Date(a.date),l=document.getElementById("activityDate");l.value=t.toISOString().split(".")[0];const i=document.getElementById("activityWeek");if(i.value=a.week.toString(),a.status===v.PUBLICADA){const s=document.getElementById("activityPrevDays");s.value=(a.prevDays??"").toString(),s.disabled=!0}const o=document.getElementById("activityReminderInterval");o.value=a.reminderInterval.toString();const c=document.getElementById("activityLink");c.value=a.link??"";const d=document.getElementById("activityType");d.value=a.type;const u=document.getElementById("activityModality");u.value=a.modality,r(a.responsibles.map(s=>s.name)),x(a.modality===m.VIRTUAL);const h=document.getElementById("activityName");h.value=a.name}},[a]);function y(){const l=document.getElementById("activityModality").value===m.VIRTUAL;x(l)}function j(){const l=document.getElementById("activityResponsibles").value;n.includes(l)||r([...n,l])}function b(t){t.preventDefault();const l=t.currentTarget,i=new FormData(l),o=i.get("activityName");i.get("activityName");const c=parseInt(i.get("activityWeek")),d=new Date(i.get("activityDate")),u=parseInt(i.get("activityPrevDays")),h=parseInt(i.get("activityReminderInterval")),s=n.map(I=>f.find(L=>L.name===I)),w=i.get("activityType"),k=i.get("activityModality"),N=v.PLANEADA,z=i.get("activityLink"),M=i.get("activityAttachment");a&&({...a},void 0),window.confirm("Actividad creada exitosamente")&&window.history.back()}function B(t){}return e.jsxs("form",{className:"flex flex-col w-4/5 gap-5 p-10 h-[90%] bg-slate-100 rounded-xl overflow-y-scroll no-scrollbar",onSubmit:b,children:[e.jsxs("section",{className:"flex justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityName",className:"hidden lgn:block",children:"Nombre de la actividad"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}),e.jsx("path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"})]}),e.jsx("input",{className:"w-full py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityName",type:"text",name:"activityName",placeholder:"Ingrese el nombre de la actividad",required:!0})]})]}),e.jsxs("div",{className:"flex flex-col w-full ",children:[e.jsx("label",{htmlFor:"activityType",className:"hidden lgn:block",children:"Índole"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 15m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),e.jsx("path",{d:"M10 7h4"}),e.jsx("path",{d:"M10 18v4l2 -1l2 1v-4"}),e.jsx("path",{d:"M10 19h-2a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-2"})]}),e.jsx("select",{className:"w-full py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityType",name:"activityType",required:!0,children:Object.values(D).map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("section",{className:"flex justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityModality",className:"hidden lgn:block",children:"Modalidad"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M17.011 9.385v5.128l3.989 3.487v-12z"}),e.jsx("path",{d:"M3.887 6h10.08c1.468 0 3.033 1.203 3.033 2.803v8.196a.991 .991 0 0 1 -.975 1h-10.373c-1.667 0 -2.652 -1.5 -2.652 -3l.01 -8a.882 .882 0 0 1 .208 -.71a.841 .841 0 0 1 .67 -.287z"})]}),e.jsx("select",{onChange:y,className:"w-full py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityModality",name:"activityModality",required:!0,children:Object.values(m).map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityLink",className:"hidden lgn:block",children:"Enlace de la actividad"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}),e.jsx("path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"})]}),e.jsx("input",{className:"w-full py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500 disabled:bg-zinc-200",id:"activityLink",type:"text",name:"activityLink",placeholder:"Ingrese el enlace",disabled:!g})]})]})]}),e.jsxs("section",{className:"flex justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityDate",className:"hidden lgn:block",children:"Fecha de la actividad"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 5m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),e.jsx("path",{d:"M16 3l0 4"}),e.jsx("path",{d:"M8 3l0 4"}),e.jsx("path",{d:"M4 11l16 0"}),e.jsx("path",{d:"M8 15h2v2h-2z"})]}),e.jsx("input",{className:"w-full py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityDate",type:"datetime-local",name:"activityDate",required:!0}),e.jsx("input",{className:" w-1/3 py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500  border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityWeek",type:"number",name:"activityWeek",placeholder:"Semana",required:!0})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityAttachment",className:"hidden lgn:block",children:"Archivo adjunto"}),e.jsx("div",{className:"relative flex flex-row items-center text-primary-dark",children:e.jsx("input",{className:"w-full h-[50px] bg-white place-content-center transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityAttachment",type:"file",name:"activityAttachment",accept:".pdf,.jpg,.png"})})]})]}),e.jsxs("section",{className:"flex justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityPrevDays",className:"hidden lgn:block",children:"Días previos para publicar"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M21 12a9 9 0 1 0 -9 9"}),e.jsx("path",{d:"M3.6 9h16.8"}),e.jsx("path",{d:"M3.6 15h8.4"}),e.jsx("path",{d:"M11.578 3a17 17 0 0 0 0 18"}),e.jsx("path",{d:"M12.5 3c1.719 2.755 2.5 5.876 2.5 9"}),e.jsx("path",{d:"M18 21v-7m3 3l-3 -3l-3 3"})]}),e.jsx("input",{className:"w-full py-3 transition-all disabled:bg-zinc-200 duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityPrevDays",type:"number",name:"activityPrevDays",placeholder:"Ingrese la cantidad de días",required:!0})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityReminderInterval",className:"hidden lgn:block",children:"Intervalo de recordatorio"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}),e.jsx("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"}),e.jsx("path",{d:"M21 6.727a11.05 11.05 0 0 0 -2.794 -3.727"}),e.jsx("path",{d:"M3 6.727a11.05 11.05 0 0 1 2.792 -3.727"})]}),e.jsx("input",{className:"w-full py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityReminderInterval",type:"number",name:"activityReminderInterval",placeholder:"Ingrese el intervalo",required:!0})]})]})]}),e.jsxs("section",{className:"flex justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityResponsibles",className:"hidden lgn:block",children:"Responsables"}),e.jsxs("div",{className:"relative flex flex-row items-center text-primary-dark",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2 w-7",width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),e.jsx("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),e.jsx("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),e.jsx("select",{onChange:j,className:"w-full py-3 transition-all duration-300 ease-in-out border rounded-lg text-zinc-500 pl-11 border-zinc-300 focus:outline-none focus:ring-1 focus:ring-primary-light focus:border-zinc-500",id:"activityResponsibles",name:"activityResponsibles",required:!0,children:f.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"activityResponsiblesList",className:"hidden lgn:block",children:"Lista de responsables"}),e.jsx("div",{className:"relative flex flex-row items-center text-primary-dark ",children:e.jsx("ul",{className:"w-full h-32 px-6 py-3 overflow-y-scroll bg-white border rounded-lg text-zinc-500 pl-11 border-zinc-300 no-scrollbar",children:n.map(t=>e.jsxs("li",{className:"flex justify-between w-full pt-1 pb-2 border-b-2",children:[t,e.jsx("button",{className:"font-semibold right-2",onClick:()=>r(n.filter(l=>l!==t)),children:"x"})]},t))})})]})]}),e.jsx("section",{className:"flex justify-end gap-10",children:e.jsx("button",{type:"submit",className:"w-40 h-12 text-white transition duration-300 ease-in-out rounded-md bg-primary-dark hover:bg-primary-light",children:a?"Actualizar":"Crear"})})]})};export{W as default};
